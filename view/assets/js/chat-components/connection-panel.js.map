{"version":3,"sources":["../../jsx/chat-components/connection-panel.jsx"],"names":[],"mappings":"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","file":"connection-panel.js","sourcesContent":["const FlatButton = require('material-ui/lib/flat-button');\r\nconst Dialog = require('material-ui/lib/dialog');\r\nconst TextField = require('material-ui/lib/text-field');\r\nconst RaisedButton = require('material-ui/lib/raised-button');\r\nconst Snackbar = require('material-ui/lib/snackbar');\r\nvar React = require('react');\r\nvar sha1 = require('sha1');\r\n\r\n\r\nvar ConnectionPanel = React.createClass({\r\n    getInitialState () {\r\n        return {liked: false, messages: [], nick: '', showDialogStandardActions: false, disButtonState: true,\r\n            conButtonState: false};\r\n    },\r\n    connectToChat () {\r\n        if(this.props.socket.connect()) {\r\n            this.setState({showDialogStandardActions: true});\r\n            this.setState({liked: 1, disButtonState: false, conButtonState: true});\r\n            this.props.onSubmit(false);\r\n        } else {\r\n            this._snackBar.show();\r\n        }\r\n    },\r\n    disconnectFromChat () {\r\n        this.props.socket.disconnect();\r\n        this.setState({liked: 0, disButtonState: true, conButtonState: false});\r\n        this.props.onSubmit(true);\r\n    },\r\n    _handleCustomDialogCancel () {\r\n        this.setState({showDialogStandardActions: false});\r\n    },\r\n    _handleCustomDialogSubmit () {\r\n        this.setState({showDialogStandardActions: false});\r\n        let message = JSON.stringify({login: this._userInput.getValue(), password: sha1(this._passwordInput.getValue())});\r\n        this.props.socket.emit('login', message);\r\n    },\r\n    render () {\r\n        let customActions = [\r\n            <FlatButton\r\n                label=\"Cancel\"\r\n                secondary={true}\r\n                onTouchTap={this._handleCustomDialogCancel} />,\r\n            <FlatButton\r\n                label=\"Submit\"\r\n                primary={true}\r\n                onTouchTap={this._handleCustomDialogSubmit} />\r\n        ];\r\n        return (\r\n            <div className=\"buttons-panel\">\r\n                <RaisedButton label=\"Disconnect\" disabled={this.state.disButtonState} secondary={true} onClick={this.disconnectFromChat}/>\r\n                <RaisedButton label=\"Connect\" disabled={this.state.conButtonState} secondary={true} onClick={this.connectToChat}/>\r\n                <Dialog\r\n                    ref={component => this._loginDialog = component}\r\n                    title=\"Log into chat\"\r\n                    actions={customActions}\r\n                    open={this.state.showDialogStandardActions}\r\n                    onRequestClose={this._handleRequestClose}>\r\n                    <TextField hintText=\"Username\" floatingLabelText=\"Username\" ref={component => this._userInput = component}/>\r\n                    <TextField hintText=\"Password\" type=\"password\" floatingLabelText=\"Password\" ref={component => this._passwordInput = component}/>\r\n                </Dialog>\r\n                <Snackbar\r\n                    ref={component => this._snackBar = component}\r\n                    message=\"Something went wrong.\"\r\n                    action=\"undo\"\r\n                    autoHideDuration={2000}/>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ConnectionPanel;"]}